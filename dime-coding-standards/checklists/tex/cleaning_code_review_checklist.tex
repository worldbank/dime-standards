\documentclass{tufte-handout}

\usepackage{librecaslon}
\usepackage{fancyhdr}
\usepackage{hyperref}
\usepackage{tcolorbox}
\usepackage{xcolor}
\usepackage{setspace}
\usepackage{graphics}


\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=cyan,
}

% Set header and footer
\pagestyle{fancy}
\fancyhf{}
\lfoot{\includegraphics[height=1cm,keepaspectratio]{../../img/wb}}
\rfoot{\includegraphics[height=1cm,keepaspectratio]{../../img/analytics}}



% Put checkbox to the left of the text
\def\LayoutCheckField#1#2{% label, field
    #2 #1%
}

% Adjust footer spacing
\setlength{\footskip}{2cm}

% Line spacing
\onehalfspacing

% Define DIME Analytics visual identity colors
\definecolor{fontcolor}{HTML}{7A0569}

\titleformat{\section}%
{\Large\rmfamily\bf\color{fontcolor}}% format applied to label+text
{\llap{\colorbox{fontcolor}{\parbox{1.5cm}{\hfill\huge\color{fontcolor}\thesection}}}}% label
{2pt}% horizontal separation between label and title body
{}% before the title body
[]% after the title body

\titleformat{\subsection}%
{\large\rmfamily\color{fontcolor}}% format applied to label+text
{}% label
{1.5pt}% horizontal separation between label and title body
{}% before the title body
[]% after the title body

% Custom commands for checkboxes and text fields
\newcommand{\dimeCheckBox}[1]{\CheckBox[height=0.01cm, width=0.4cm, bordercolor=gray]{#1}}
\newcommand{\dimeTextField}[3]{\TextField[name=#1, height=0.3cm, width=#2, bordercolor=gray]{#3}}

% Custom title box
\newcommand{\titleBox}[1]{
    \begin{tcolorbox}
        [colframe = fontcolor,
        colback = fontcolor,
        sharp corners,
        halign = flush center,
        valign = center,
        height = 0.3\textwidth,
        after skip = 1cm]
        #1
    \end{tcolorbox}
}

\begin{document}
    \begin{fullwidth}
    


        \titleBox{
            \textcolor{white}{\LARGE{\textbf{DIME Analytics \\ Peer Code Review - Cleaning Checklist}} \\[5pt]}
        }
% Restore default margins after the first page


        \section*{Reviewer Details}
        \dimeTextField{reviewer}{6cm}{Reviewer Name:}  
        \dimeTextField{coder}{6cm}{ Coder Name:}  

        \vspace{0.5cm}

        \textbf{Note:} Please complete this checklist \textbf{only if} the submission includes \textbf{cleaning} tasks.

        \section*{Data Cleaning Tasks}
        This checklist highlights key aspects to review in your partner's \textbf{cleaning scripts/code}.  
        Once completed, please submit it as an attachment along with \href{https://survey.wb.surveycto.com/collect/code_review_summary?caseid=}{this form}.

        \subsection*{General Cleaning Checks}
        \begin{itemize}
            \setlength\itemsep{0.3em}
            \item[] \dimeCheckBox{Cleaning scripts do not create indicators (this should be done in a separate construction script).}
            \item[] \dimeCheckBox{Any changes made to specific values are well-documented and justified.}
        \end{itemize}

        \subsection*{Duplicate Checks}
        \begin{itemize}
            \setlength\itemsep{0.3em}
            \item[] \dimeCheckBox{The code checks for duplicates in ID variables and other key variables.}
            \item[] \dimeCheckBox{All identified duplicates are either resolved in the code or justified with an explanation.}
             \item[] \dimeCheckBox{The method used to resolve duplicates is stable, meaning it does not randomly drop duplicates but instead systematically identifies and tags specific observations.}
          \end{itemize}

        \subsection*{Data Type Checks}
	\begin{itemize}
            \setlength\itemsep{0.3em}
             \item[] \dimeCheckBox{The dataset contains string variables only where necessary, such as open-ended responses, proper nouns (not used as categories), or alphanumeric IDs.}
              \item[] \dimeCheckBox{All categorical string variables are converted into labeled categorical variables or factors.}
           \end{itemize}

        \subsection*{Labeling Checks}
        \begin{itemize}
            \setlength\itemsep{0.3em}
            \item[] \dimeCheckBox{All variables have clear and correct labels.}
            \item[] \dimeCheckBox{Value labels are consistent (e.g., avoiding cases where varA: 1 = yes, 0 = no, but varB: 1 = yes, 2 = no).}
        \end{itemize}

        \subsection*{Missing Value Checks}
        \begin{itemize}
            \setlength\itemsep{0.3em}
            \item[] \dimeCheckBox{Missing values are coded consistently.}
            \item[] \dimeCheckBox{Extended missing values are used where applicable (e.g., \texttt{.d} for \textbf{Do not know}, \texttt{.r} for \textbf{Refuse to answer}, etc.).}
        \end{itemize}
        
        \subsection*{Merge Checks}
        \begin{itemize}
            \setlength\itemsep{0.3em}
            \item[] \dimeCheckBox{If any observations are dropped, a clear justification is provided in the code.}
            \item[] \dimeCheckBox{Any mismatches between datasets are explicitly explained in the code.}
             \item[] \dimeCheckBox{m:m merge is NOT perfomed}
        \end{itemize}        
        
        \subsection*{Clean Dataset Checks}
        \begin{itemize}
            \setlength\itemsep{0.3em}
            \item[] \dimeCheckBox{The clean dataset is saved only once throughout the script and is not overwritten multiple times.}
            \item[] \dimeCheckBox{The clean dataset has unique values for the designated ID variable.}
        \end{itemize}    

    \end{fullwidth}
\end{document}
