\documentclass{tufte-handout}

\usepackage{librecaslon}
\usepackage{fancyhdr}
\usepackage{hyperref}
\usepackage{tcolorbox}
\usepackage{xcolor}
\usepackage{setspace}
\usepackage{graphics}


\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=cyan,
}

% Set header and footer
\pagestyle{fancy}
\fancyhf{}
\lfoot{\includegraphics[height=1cm,keepaspectratio]{../../img/wb}}
\rfoot{\includegraphics[height=1cm,keepaspectratio]{../../img/analytics}}



% Put checkbox to the left of the text
\def\LayoutCheckField#1#2{% label, field
    #2 #1%
}

% Adjust footer spacing
\setlength{\footskip}{2cm}

% Line spacing
\onehalfspacing

% Define DIME Analytics visual identity colors
\definecolor{fontcolor}{HTML}{7A0569}

\titleformat{\section}%
{\Large\rmfamily\bf\color{fontcolor}}% format applied to label+text
{\llap{\colorbox{fontcolor}{\parbox{1.5cm}{\hfill\huge\color{fontcolor}\thesection}}}}% label
{2pt}% horizontal separation between label and title body
{}% before the title body
[]% after the title body

\titleformat{\subsection}%
{\large\rmfamily\color{fontcolor}}% format applied to label+text
{}% label
{1.5pt}% horizontal separation between label and title body
{}% before the title body
[]% after the title body

% Custom commands for checkboxes and text fields
\newcommand{\dimeCheckBox}[1]{\CheckBox[height=0.01cm, width=0.4cm, bordercolor=gray]{#1}}
\newcommand{\dimeTextField}[3]{\TextField[name=#1, height=0.3cm, width=#2, bordercolor=gray]{#3}}

% Custom title box
\newcommand{\titleBox}[1]{
    \begin{tcolorbox}
        [colframe = fontcolor,
        colback = fontcolor,
        sharp corners,
        halign = flush center,
        valign = center,
        height = 0.3\textwidth,
        after skip = 1cm]
        #1
    \end{tcolorbox}
}

\begin{document}
    \begin{fullwidth}
    


        \titleBox{
            \textcolor{white}{\LARGE{\textbf{DIME Analytics \\ Peer Code Review - Analysis Checklist}} \\[5pt]}
        }
% Restore default margins after the first page


        \section*{Reviewer Details}
        \dimeTextField{reviewer}{6cm}{Reviewer Name:}  
        \dimeTextField{coder}{6cm}{ Coder Name:}  

        \vspace{0.5cm}

        \textbf{Note:} Please complete this checklist \textbf{only if} the submission includes \textbf{analysis} tasks.		
\section*{Analysis Tasks}
This checklist highlights key aspects to review in your partner's \textbf{analysis} scripts/code.  
Once completed, please submit it as an attachment along with \href{https://survey.wb.surveycto.com/collect/code_review_summary?caseid=}{this form}.

\subsection*{General Code Structure}
\begin{itemize}
    \setlength\itemsep{-0.1em}
    \item[] \dimeCheckBox{Analysis scripts do not create new variables, except when necessary for specific outputs (e.g., temporary transformations).}
    \item[] \dimeCheckBox{The code is modular, allowing individual outputs to be run in any order without dependencies on prior scripts.}
    \item[] \dimeCheckBox{All research decisions are well documented (e.g., including sample selection, missing data handling, etc.}
    \item[] \dimeCheckBox{The functions and statistical methods used are appropriate for the analysis being performed.}
    \item[] \dimeCheckBox{Categorical variables are used correctly (e.g., labeled integers are not mistakenly treated as continuous variables).}
\end{itemize}


\subsection*{Output Checks}
\begin{itemize}
    \setlength\itemsep{-0.1em}
    \item[] \dimeCheckBox{The code generates outputs as expected without errors or missing components.}
    \item[] \dimeCheckBox{Outputs (tables, figures, datasets) are exported in a reproducible manner, with minimal manual formatting.}
    \item[] \dimeCheckBox{Results are cross-checked with outputs shared for consistency (e.g., totals match across tables, key statistics align with expectations).}
\end{itemize}


    
            
		\vspace{.6em}


	\end{fullwidth}
\end{document}
